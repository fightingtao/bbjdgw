<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>工具类的测试网页</title>
		<style>
			.div_move{
				width: 200px;
				height: 200px;
				background: #333;
				color: #fff;
				font-size: 14px;
				text-align: center;
				cursor: move;
			}
			.move_text{
				height: 200px;
				width: 200px;
				display: table-cell;
				vertical-align: middle;
				text-align: center;

			}
		</style>
	</head>
	<body>
		<h3>测试工具类首页</h3>
		
		<p>
			<input type="button" value="点击进入" id="inBtn" />
			<input type="button" value="点击移动按钮" id="moveBtn" />
			<input type="button" value="点击删除" id="delectBtn" />
		</p>
		<span id="btntitle"></span>
		<br />
		<div class="div_move" id="div_move">
		<div class="move_text">
			<div>
				可拖动的按钮
			</div>
			<div >
				bug:input 无法编辑
			</div>
			
		   </div>
			<input type="text" value="" class="move_input" />
		</div>
		<!--<script>
			var textUtils={
				init: function(){
					var This =this;
					new Draggable({"wrapper":$("#div_move"),("boundaray":"window")});
				}
			};
		</script>-->
		 <script>
        var TestUtils = {
          init: function(){
            var This = this;
            // this.insertScript();
            // initlocalStorageDemo();
            // 测试移动库
            new Draggable({"wrapper": $("#dragg_div"), "boundary": "window"});
          },
          insertScript: function(){
            var COOKIE_URL = 'utils/cookieUtil.js';
            // 动态插入 cookie库脚本，并存储cookie
            insertScript(COOKIE_URL, function(js){
              CookieUtil.set('utilsTestCookie', 'xq, xq, sb');
            });
          }
        }; 
        TestUtils.init();
        function initlocalStorageDemo(){
          var localStorage, lSetBtn, lRemoveBtn, lShowBtn, lBtnTips;

          lSetBtn = document.getElementById('lSetBtn');
          lRemoveBtn = document.getElementById('lRemoveBtn');
          lShowBtn = document.getElementById('lShowBtn');
          lBtnTips = document.getElementById('lBtnTips');

          localStorage = window.localStorage;
          lSetBtn.onclick = localSetItem;
          lRemoveBtn.onclick = localRemoveItem;
          lShowBtn.onclick = showLocalStorage;
          
          // 插入缓存
          function localSetItem(event){
            if (window.localStorage) {
              localStorage.setItem('utilsTest', 'localStorageUtil');
              lBtnTips.innerHTML = '保存成功！';
            }else {
              lBtnTips.innerHTML = '保存失败！';
            }
          }
          // 显示storage, 转成字符串显示，JSON对象赋值之，ie8（不包括IE8）以下浏览器需引入json3
          function showLocalStorage(){
            if (window.localStorage) {
              // IE7 IE6 特殊处理
              if (client.browser.ie && parseInt(client.browser.ver,10) == 6 ) {
                lBtnTips.innerHTML = 'utilsTest: ' + localStorage.getItem("utilsTest");
              } else {
                lBtnTips.innerHTML = 'localStorage: utilsTest:' + JSON.stringify(localStorage);
              }
            } else {
              lBtnTips.innerHTML = '浏览器不支持localStorage';
            }
          }
          // 清除缓存
          function localRemoveItem(event){
            if (window.localStorage) {
              localStorage.removeItem('utilsTest');
              lBtnTips.innerHTML = '删除成功！';
            }else {
              lBtnTips.innerHTML = '删除失败！';
            }
          }
        }
      </script>
		
	</body>
</html>
